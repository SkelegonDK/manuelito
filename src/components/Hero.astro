---
import { Icon } from "astro-icon/components";
import { Image } from "astro:assets";
import Button from "@/components/Button.astro";
import VideoBackground from "@/components/VideoBackground.astro";
const images = import.meta.glob<{ default: ImageMetadata }>(
  "/src/assets/*.{jpeg,jpg,png,gif}",
);
---

<VideoBackground />

<section class="hero-section py-20 px-4 md:px-0 relative">
  <!-- Content container with higher z-index -->
  <div class="container mx-auto relative z-10 flex md:flex-row flex-col gap-10 md:gap-0">
    <!-- Hero text section -->
    <div class="flex flex-col gap-6 justify-start items-start md:w-1/2 animate-fade-in">
      <h3 class="text-pwhite hero-text">Hi, my name is Manuel Thomsen</h3>
      <h1 class="frick text-6xl font-bold hero-title">Creative Technologist</h1>
      <p class="text-pwhite hero-text">Synthetic voice-over specialist for the advertisement industry.</p>
    </div>
    
    <div
      class="md:w-1/2 object-contain flex items-center justify-center p-10 group animate-fade-in-delayed"
    >
      <a
        rel="noopener noreferrer"
        href="https://es.wikipedia.org/wiki/Joaqu%C3%ADn_Sorolla"
        target="_blank"
        class="photo-link"
      >
        <div
          class="photo-card bg-white dark:bg-gray-800 border-black rounded-2xl h-52 w-60 shadow-card group-hover:shadow-hover flex transition relative"
        >
          <div class="image-container">
            <Image
              class="profile-image group-hover:scale-105 transition"
              src={images["/src/assets/manuel.png"]()}
              alt="Manuel Thomsen, photo wiki"
              width={320}
              height={400}
            />
          </div>
        </div>
      </a>
    </div>
  </div>
</section>

<style>
  /* Hero section */
  .hero-section {
    min-height: 80vh;
    display: flex;
    align-items: center;
    position: relative;
  }
  
  /* Photo card styling */
  .photo-link {
    position: relative;
    display: block;
  }
  
  .photo-card {
    position: relative;
    z-index: 1;
    display: flex;
    align-items: flex-end;
  }
  
  /* Image container styling */
  .image-container {
    position: absolute;
    width: 100%;
    height: 100%;
    display: flex;
    align-items: flex-end;
    justify-content: center;
    z-index: 2;
    overflow: visible;
    bottom: 0;
  }
  
  .profile-image {
    display: block;
    position: relative;
    bottom: 0;
    max-width: none;
    width: auto;
    height: 295px; /* Match the height of the card (h-52 = 13rem = 208px) */
    z-index: 3;
    transform-origin: bottom center;
  }
  
  .group:hover .profile-image {
    transform: scale(1.05);
  }
  
  /* Hero text styling */
  .hero-text {
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.3);
  }
  
  .hero-title {
    text-shadow: 0 2px 4px rgba(0, 0, 0, 0.4);
  }
  
  /* Ensure text is visible in dark mode */
  :global(.dark) .hero-text,
  :global(.dark) .hero-title {
    text-shadow: 0 1px 3px rgba(0, 0, 0, 0.6);
  }
  
  /* Animations */
  .animate-fade-in {
    animation: fadeIn 1s ease-in-out;
  }
  
  .animate-fade-in-delayed {
    animation: fadeIn 1s ease-in-out 0.3s;
    animation-fill-mode: both;
  }
  
  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }
</style>

<script>
  // Add class to body when page loads
  document.addEventListener('DOMContentLoaded', () => {
    document.body.classList.add('has-video-bg');
  });
</script>
